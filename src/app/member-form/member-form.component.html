<p>{{ form.get('name')?.value ? 'Edit Member' : 'Create New Member' }}</p>
<form [formGroup]="form" (ngSubmit)="sub()">

    <mat-form-field appearance="fill" style="width:100%">
        <mat-label>CIN</mat-label>
        <input matInput placeholder="cin" formControlName="cin">
    </mat-form-field>

    <mat-form-field appearance="fill" style="width:100%">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name" formControlName="name">
    </mat-form-field>

    <mat-form-field appearance="fill" style="width:100%">
        <mat-label>Email</mat-label>
        <input matInput placeholder="Email" formControlName="email">
    </mat-form-field>

    <mat-form-field appearance="fill" style="width:100%">
        <mat-label>Password</mat-label>
        <input matInput type="password" placeholder="Password" formControlName="password">
    </mat-form-field>

    <mat-form-field appearance="fill" style="width:100%">
        <mat-label>Type</mat-label>
        <mat-select formControlName="type">
            <mat-option value="etudiant">Etudiant</mat-option>
            <mat-option value="enseignant">Enseignant</mat-option>
        </mat-select>
    </mat-form-field>

    <!-- Student fields -->
    <div *ngIf="form.get('type')?.value === 'etudiant'" style="margin-top:12px">
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Diplome</mat-label>
            <input matInput formControlName="diplome" placeholder="Ex: Licence, Master, PhD">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Date d'inscription</mat-label>
            <input matInput type="date" formControlName="dateInscription">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Encadreur (ID)</mat-label>
            <input matInput formControlName="encadreurId" placeholder="ID de l'encadreur">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Sujet de th√®se</mat-label>
            <input matInput formControlName="sujetThese">
        </mat-form-field>
    </div>

    <!-- Enseignant fields -->
    <div *ngIf="form.get('type')?.value === 'enseignant'" style="margin-top:12px">
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Grade</mat-label>
            <input matInput formControlName="grade">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Etablissement</mat-label>
            <input matInput formControlName="etablissement">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Departement</mat-label>
            <input matInput formControlName="departement">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Laboratoire</mat-label>
            <input matInput formControlName="laboratoire">
        </mat-form-field>
        <mat-form-field appearance="fill" style="width:100%">
            <mat-label>Specialites (comma separated)</mat-label>
            <input matInput formControlName="specialites">
        </mat-form-field>
    </div>

        <div style="margin-top:12px">
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">Save</button>
        <button mat-button type="button" [routerLink]="['/member']">Cancel</button>
    </div>

</form>

